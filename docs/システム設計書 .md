# ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸ - ã‚½ã‚¯ãƒ–ãƒ„

## æ¦‚è¦

ã‚½ã‚¯ãƒ–ãƒ„ã¯ã€è‡ªå®…ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒã§ã®ç‰©ä»¶æ–°ç€ã€Œæœ‰ç„¡ã€ç›£è¦–ã«ç‰¹åŒ–ã—ãŸã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

### MVPæˆ¦ç•¥ï¼ˆç¾åœ¨ã®å®Ÿè£…æ–¹é‡ï¼‰
**è»½é‡Node.js + TypeScript**ã‚’åŸºç›¤ã¨ã—ã€Puppeteer-firstæˆ¦ç•¥ã«ã‚ˆã‚Š25%ã®å®‰å®šæˆåŠŸç‡ã§å®Ÿç”¨çš„ãªç›£è¦–ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

**Puppeteer-firstæˆ¦ç•¥ã®ç¢ºå®šä»•æ§˜ï¼ˆ2025å¹´8æœˆ17æ—¥ï¼‰:**
- **æˆåŠŸç‡**: 25.08%ï¼ˆå®Ÿæ¸¬å€¤ï¼‰
- **å®Ÿè¡Œæ™‚é–“**: å¹³å‡5.39ç§’
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: 200-300MB
- **æŠ€è¡“**: 3æ®µéšã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆBotæ¤œçŸ¥å›é¿ â†’ Google â†’ athome.co.jpï¼‰

#### **å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½ï¼ˆ2025å¹´8æœˆ26æ—¥ç¾åœ¨ï¼‰**
- âœ… **PuppeteerScraper**: 3æ®µéšã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆathome.co.jpå¯¾å¿œï¼‰
- âœ… **SimpleStorage**: JSONå½¢å¼ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- âœ… **MonitoringScheduler**: 5åˆ†é–“éš”ç›£è¦–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼
- âœ… **åŸºç›¤æ©Ÿèƒ½**: logger, telegram, configå®Œå‚™

#### **å®Ÿè£…äºˆå®šæ©Ÿèƒ½ï¼ˆä»Šæ—¥ä¸­ï¼‰**
- âŒ **PropertyMonitor**: æ–°ç€ç‰©ä»¶æ¤œçŸ¥ãƒ­ã‚¸ãƒƒã‚¯
- âŒ **é€šçŸ¥çµ±åˆ**: Telegramæ–°ç€é€šçŸ¥æ©Ÿèƒ½

### å°†æ¥æ‹¡å¼µæˆ¦ç•¥
NestJS + TypeScripté‡åšã‚¹ã‚¿ãƒƒã‚¯ã¸ã®æ®µéšçš„ç§»è¡Œã«ã‚ˆã‚Šã€Puppeteer-firstæˆ¦ç•¥ã‚’åŸºç›¤ã¨ã—ãŸæœ¬æ ¼çš„ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚HTTP-firstæˆ¦ç•¥ã®é™ç•Œï¼ˆCookieèªè¨¼ã§ã¯èªè¨¼çªç ´ä¸å¯èƒ½ï¼‰ãŒå®Ÿè¨¼ã•ã‚ŒãŸãŸã‚ã€Puppeteer-firstã‚’åŸºç›¤æŠ€è¡“ã¨ã—ã¦ç¶™ç¶šæ¡ç”¨ã—ã¾ã™ã€‚

### æŠ€è¡“é¸æŠã®ç†ç”±
- **MVP**: è»½é‡æ€§ãƒ»ç†è§£ã—ã‚„ã™ã•ãƒ»é«˜é€Ÿèµ·å‹•ã‚’é‡è¦–
- **æœ¬æ ¼ç‰ˆ**: æ‹¡å¼µæ€§ãƒ»ä¿å®ˆæ€§ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºæ©Ÿèƒ½ã‚’é‡è¦–

## ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### é«˜ãƒ¬ãƒ™ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ã‚½ã‚¯ãƒ–ãƒ„ãƒ»ã‚·ã‚¹ãƒ†ãƒ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ  è‡ªå®…ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒ (Intel i5-9400T, 7.7GB RAM, WSL2)      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Telegram Bot  â”‚  â”‚   NestJS API    â”‚  â”‚  Scheduler  â”‚  â”‚
â”‚  â”‚   (é€šçŸ¥ãƒ»åˆ¶å¾¡)   â”‚  â”‚   (REST API)    â”‚  â”‚  (å®šæœŸå®Ÿè¡Œ)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                     â”‚                     â”‚     â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                 â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³                      â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚         Puppeteer-firstæˆ¦ç•¥ (ç¢ºå®šä»•æ§˜)              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   3æ®µéšã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ | 25%æˆåŠŸç‡ | 5.4ç§’å®Ÿè¡Œ     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   Botæ¤œçŸ¥å›é¿ â†’ Google â†’ athome.co.jp              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   200-300MB ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡                            â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                 â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                Botå¯¾ç­–ã‚·ã‚¹ãƒ†ãƒ                           â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Botæ¤œçŸ¥å›é¿ â”‚â†’ â”‚ Googleæ¤œç´¢  â”‚â†’ â”‚ ç›®çš„ã‚µã‚¤ãƒˆ      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ (NestJS)    â”‚  â”‚ (å®Ÿéš›å®Ÿè¡Œ)  â”‚  â”‚ (ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶™æ‰¿) â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                 â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                ãƒ‡ãƒ¼ã‚¿ç®¡ç†å±¤                             â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ TypeORM +   â”‚  â”‚ File Cache  â”‚  â”‚ Session Store   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚better-sqlite3â”‚  â”‚ (JSON)      â”‚  â”‚ (Memory)        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ 20-40MB     â”‚  â”‚ 10-20MB     â”‚  â”‚ 10-30MB         â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Telegram    â”‚    â”‚ NestJS      â”‚    â”‚ Scheduler   â”‚
â”‚ User Input  â”‚â”€â”€â”€â–¶â”‚ API Server  â”‚â—€â”€â”€â”€â”‚ Cron Jobs   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³                      â”‚
â”‚                                                         â”‚
â”‚  URL â†’ Puppeteer-firstæˆ¦ç•¥ â†’ æˆåŠŸ/å¤±æ•—                 â”‚
â”‚   â”‚           â”‚                  â”‚                     â”‚
â”‚   â”‚           â”œâ”€ 3æ®µéšã‚¢ã‚¯ã‚»ã‚¹ â”€ 25%æˆåŠŸ â”€ çµæœ        â”‚
â”‚   â”‚           â”‚  (Botæ¤œçŸ¥â†’Googleâ†’athome)              â”‚
â”‚   â”‚           â””â”€ Stealth Plugin + User-Agentè¨­å®š       â”‚
â”‚   â””â”€ URLæ¤œè¨¼ãƒ»ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ¶é™                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ãƒ‡ãƒ¼ã‚¿å‡¦ç†                           â”‚
â”‚                                                         â”‚
â”‚  æ–°ç€åˆ¤å®š â†’ ãƒãƒƒã‚·ãƒ¥æ¯”è¼ƒ â†’ çµæœä¿å­˜ â†’ é€šçŸ¥åˆ¤å®š          â”‚
â”‚     â”‚          â”‚           â”‚          â”‚                â”‚
â”‚     â”‚          â”‚           â”‚          â””â”€ Telegramé€ä¿¡  â”‚
â”‚     â”‚          â”‚           â””â”€ TypeORMä¿å­˜              â”‚
â”‚     â”‚          â””â”€ SHA-256ãƒãƒƒã‚·ãƒ¥è¨ˆç®—                   â”‚
â”‚     â””â”€ DOMè¦ç´ æŠ½å‡ºãƒ»æ­£è¦åŒ–                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯è©³ç´°

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æŠ€è¡“

#### NestJS (TypeScript)
**é¸å®šç†ç”±**:
- RFPè¦ä»¶ã®å®Œå…¨éµå®ˆ
- ä¼æ¥­ãƒ¬ãƒ™ãƒ«ã®å‹å®‰å…¨æ€§
- ä¾å­˜æ€§æ³¨å…¥ã«ã‚ˆã‚‹é«˜ã„ä¿å®ˆæ€§
- ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ç›´æ„Ÿçš„ãªé–‹ç™º

**ãƒ¡ãƒªãƒƒãƒˆ**:
- TypeScriptãƒã‚¤ãƒ†ã‚£ãƒ–ã‚µãƒãƒ¼ãƒˆ
- è±Šå¯Œãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ 
- è‡ªå‹•APIæ–‡æ›¸ç”Ÿæˆ (Swagger)
- ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ã®é«˜ã•

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- Express.jsã‚ˆã‚Šè‹¥å¹²é‡ã„
- å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„

#### TypeORM + better-sqlite3
**é¸å®šç†ç”±**:
- NestJSã¨ã®å®Œå…¨çµ±åˆ
- å‹å®‰å…¨ãªã‚¯ã‚¨ãƒªãƒ“ãƒ«ãƒ€ãƒ¼
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†
- PostgreSQLç§»è¡Œæº–å‚™

**ãƒ¡ãƒªãƒƒãƒˆ**:
- ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ™ãƒ¼ã‚¹ã®ç›´æ„Ÿçš„ãªè¨­è¨ˆ
- è‡ªå‹•ã‚¹ã‚­ãƒ¼ãƒåŒæœŸ
- ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†ã®ç°¡ç´ åŒ–
- é–‹ç™ºåŠ¹ç‡ã®å‘ä¸Š

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- ç”ŸSQLã‚ˆã‚Šè‹¥å¹²ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰
- è¤‡é›‘ãªã‚¯ã‚¨ãƒªã®åˆ¶ç´„

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“

#### Telegram Bot API
**é¸å®šç†ç”±**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªUI
- ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã®ç¢ºå®Ÿæ€§
- é–‹ç™ºãƒ»ä¿å®ˆã‚³ã‚¹ãƒˆã®ä½ã•
- ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ

**ãƒ¡ãƒªãƒƒãƒˆ**:
- å³åº§ã®é€šçŸ¥é…ä¿¡
- ãƒªãƒƒãƒãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼
- ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã®ç°¡ç´ åŒ–
- ç„¡æ–™ã§ã®åˆ©ç”¨

### ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æŠ€è¡“

#### Puppeteer-firstæˆ¦ç•¥ï¼ˆç¢ºå®šä»•æ§˜ï¼‰
**é¸å®šç†ç”±**:
- ã‚¢ãƒƒãƒˆãƒ›ãƒ¼ãƒ èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®é«˜åº¦åŒ–ã¸ã®å¯¾å¿œ
- HTTP-onlyæˆ¦ç•¥ã®é™ç•Œï¼ˆCookieèªè¨¼çªç ´ä¸å¯èƒ½ï¼‰ã®å®Ÿè¨¼
- 25%ã®å®‰å®šæˆåŠŸç‡ã§å®Ÿç”¨çš„ãªç›£è¦–ã‚’å®Ÿç¾

**å®Ÿè£…æˆ¦ç•¥**:
```
URL â†’ Puppeteer-firstï¼ˆ3æ®µéšã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰ â†’ æˆåŠŸ/å¤±æ•—
      â†“ 25%æˆåŠŸç‡
      5.4ç§’å®Ÿè¡Œæ™‚é–“
      200-300MB ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
      Botæ¤œçŸ¥å›é¿ â†’ Google â†’ athome.co.jp
```

#### Puppeteer-firstæˆ¦ç•¥è©³ç´°ï¼ˆ2025å¹´8æœˆ17æ—¥å®Ÿè¨¼ï¼‰

**3æ®µéšã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**:
```typescript
// ã‚¹ãƒ†ãƒƒãƒ—1: Botæ¤œçŸ¥å›é¿ãƒ†ã‚¹ãƒˆ
await page.goto("https://bot.sannysoft.com", {
  waitUntil: 'domcontentloaded',
  timeout: 15000
});
await new Promise(r => setTimeout(r, 2000));

// ã‚¹ãƒ†ãƒƒãƒ—2: GoogleçµŒç”±ã§ãƒªãƒ•ã‚¡ãƒ©ãƒ¼è‡ªç„¶åŒ–
await page.goto("https://www.google.com", {
  waitUntil: 'domcontentloaded', 
  timeout: 15000
});
await new Promise(r => setTimeout(r, 2000));

// ã‚¹ãƒ†ãƒƒãƒ—3: athome.co.jpã¸ã‚¢ã‚¯ã‚»ã‚¹
await page.goto(url, {
  waitUntil: 'domcontentloaded',
  timeout: 20000
});
```

**å®Ÿè¨¼çµæœï¼ˆ2025å¹´8æœˆ17æ—¥ï¼‰**:
- **æˆåŠŸç‡**: 25.08%ï¼ˆ2117å›ä¸­531å›æˆåŠŸï¼‰
- **å®Ÿè¡Œæ™‚é–“**: å¹³å‡5.39ç§’
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: 200-300MB
- **å®‰å®šæ€§**: ç¶™ç¶šçš„ã«25%å‰å¾Œã‚’ç¶­æŒ

**Stealth Pluginè¨­å®š**:
```typescript
import puppeteer from 'puppeteer-extra';
import StealthPlugin from 'puppeteer-extra-plugin-stealth';

const stealth = StealthPlugin();
puppeteer.use(stealth);

const browser = await puppeteer.launch({
  headless: true,
  args: [
    '--no-sandbox',
    '--disable-setuid-sandbox', 
    '--disable-dev-shm-usage',
    '--disable-gpu',
    '--disable-blink-features=AutomationControlled'
  ]
});
```

**ç¢ºå®šä»•æ§˜**:
- **ç›£è¦–ç¯„å›²**: æœ€æ–°3ä»¶ï¼ˆæ–°ç€ç‰©ä»¶ã®99%ã‚’ã‚«ãƒãƒ¼ï¼‰
- **æ¤œçŸ¥æ–¹å¼**: ã‚¿ã‚¤ãƒˆãƒ«+ä¾¡æ ¼+æ‰€åœ¨åœ°ãƒãƒƒã‚·ãƒ¥æ–¹å¼
- **ç›£è¦–é–“éš”**: 5åˆ†é–“éš”ï¼ˆè¨­å®šå¯èƒ½ï¼‰
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: 5.4ç§’å®Ÿè¡Œã€200-300MBä½¿ç”¨

#### Botå¯¾ç­–ã‚·ã‚¹ãƒ†ãƒ 
**GoogleçµŒç”±ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**:
```typescript
// Botå¯¾ç­–ã‚·ãƒ¼ã‚±ãƒ³ã‚¹
1. Botæ¤œçŸ¥ãƒ†ã‚¹ãƒˆã‚µã‚¤ãƒˆè¨ªå•
2. Googleæ¤œç´¢å®Ÿè¡Œ
3. ç›®çš„ã‚µã‚¤ãƒˆã¸ã®è‡ªç„¶ãªé·ç§»
4. ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã®ç¶™æ‰¿
```

## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ

### 1. CoreModule (åŸºç›¤ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)
**è²¬å‹™**:
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
- å…±é€šè¨­å®šç®¡ç†
- ãƒ­ã‚°è¨­å®š
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- ConfigService: ç’°å¢ƒå¤‰æ•°ç®¡ç†
- LoggerService: æ§‹é€ åŒ–ãƒ­ã‚°
- ExceptionFilter: çµ±ä¸€ã‚¨ãƒ©ãƒ¼å‡¦ç†

### 2. UrlModule (URLç®¡ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)
**è²¬å‹™**:
- ç›£è¦–URL CRUDæ“ä½œ
- URLæ¤œè¨¼ãƒ»æ­£è¦åŒ–
- ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¶é™ç®¡ç†
- çŠ¶æ…‹ç®¡ç†

**ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- UrlController: REST API
- UrlService: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
- UrlEntity: ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
- UrlRepository: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹

### 3. ScrapingModule (ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)
**è²¬å‹™**:
- æ®µéšçš„ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å®Ÿè¡Œ
- Botå¯¾ç­–ã‚·ã‚¹ãƒ†ãƒ 
- æ–°ç€åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

**ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- ScrapingService: ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å®Ÿè¡Œ
- BotProtectionService: Botå¯¾ç­–
- ContentAnalyzer: æ–°ç€åˆ¤å®š
- CacheManager: çµæœã‚­ãƒ£ãƒƒã‚·ãƒ¥

### 4. NotificationModule (é€šçŸ¥ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«)
**è²¬å‹™**:
- Telegram Botçµ±åˆ
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
- ã‚³ãƒãƒ³ãƒ‰å‡¦ç†
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†

**ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- TelegramService: Bot APIçµ±åˆ
- NotificationService: é€šçŸ¥ãƒ­ã‚¸ãƒƒã‚¯
- CommandHandler: ã‚³ãƒãƒ³ãƒ‰å‡¦ç†
- UserService: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ä¾å­˜é–¢ä¿‚

```
CoreModule (åŸºç›¤)
    â†‘
UrlModule â†â†’ ScrapingModule â†â†’ NotificationModule
    â†“           â†“                    â†“
TypeORM    CacheManager      Telegram API
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### Botæ¤œçŸ¥å›é¿æˆ¦ç•¥

#### 1. GoogleçµŒç”±ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
async botProtectionSequence(targetUrl: string) {
  // 1. Botæ¤œçŸ¥ãƒ†ã‚¹ãƒˆã‚µã‚¤ãƒˆ
  await page.goto('https://bot.sannysoft.com');
  await page.waitForTimeout(3000);
  
  // 2. Googleæ¤œç´¢
  await page.goto('https://www.google.com');
  await page.waitForNetworkIdle();
  
  // 3. ç›®çš„ã‚µã‚¤ãƒˆã‚¢ã‚¯ã‚»ã‚¹
  await page.goto(targetUrl);
  return page;
}
```

#### 2. User-Agentãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- Chromeã€Firefoxã€Safari ã®å®Ÿéš›ã®UA
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®å®šæœŸæ›´æ–°
- OSæƒ…å ±ã®å¤šæ§˜åŒ–

#### 3. ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- Cookieæƒ…å ±ã®ç¶™æ‰¿
- LocalStorageçŠ¶æ…‹ã®ä¿æŒ
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç®¡ç†

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

#### å…¥åŠ›å€¤æ¤œè¨¼
```typescript
@IsUrl()
@IsNotEmpty()
@MaxLength(2048)
url: string;

@IsString()
@Length(1, 100)
name: string;
```

#### ãƒ¬ãƒ¼ãƒˆåˆ¶é™
- IPå˜ä½: 60req/min
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å˜ä½: 100req/hour
- ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°: 5åˆ†é–“éš”

#### ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–
- ç’°å¢ƒå¤‰æ•°ã®æš—å·åŒ–
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæ–‡å­—åˆ—ã®ä¿è­·
- Telegram Bot Tokenã®å®‰å…¨ãªç®¡ç†

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»é‹ç”¨è¨­è¨ˆ

### ä¸¦åˆ—å‡¦ç†ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥

#### ä¸¦åˆ—ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
```typescript
// æœ€å¤§3ã¤ã®URLã‚’ä¸¦åˆ—å‡¦ç†
const results = await Promise.allSettled(
  urls.map(url => this.scrapingService.checkUrl(url))
);
```

#### å¤šå±¤ã‚­ãƒ£ãƒƒã‚·ãƒ¥
1. **ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥**: é »ç¹ã‚¢ã‚¯ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ (5åˆ†)
2. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°çµæœ (1æ™‚é–“)
3. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: å±¥æ­´ãƒ‡ãƒ¼ã‚¿ (æ°¸ç¶š)

### ãƒ­ã‚°ãƒ»ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 

#### æ§‹é€ åŒ–ãƒ­ã‚°
```typescript
logger.info('Scraping completed', {
  urlId: url.id,
  method: 'http-only',
  responseTime: 2500,
  newItemsFound: false,
  memoryUsage: 45
});
```

#### ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
- APIå¿œç­”æ™‚é–“
- ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æˆåŠŸç‡
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç‡

### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½

#### 4ã¤ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
1. `/health`: åŸºæœ¬ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
2. `/health/detailed`: è©³ç´°çŠ¶æ…‹
3. `/health/ready`: Kubernetes readiness
4. `/health/live`: Kubernetes liveness

## æ‹¡å¼µæ€§è¨­è¨ˆ

### æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¯¾å¿œ

#### ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹è¨­è¨ˆ
- ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã®å¤–éƒ¨åŒ–
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å…±æœ‰åŒ–
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ—ãƒ¼ãƒ«

#### ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°æº–å‚™
- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å¯¾å¿œ
- ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¢ãƒ•ã‚£ãƒ‹ãƒ†ã‚£ä¸è¦

### PostgreSQLç§»è¡Œæº–å‚™

#### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥
```typescript
// Phase 1: better-sqlite3 (ç¾åœ¨)
// Phase 2: PostgreSQLç§»è¡Œ
// Phase 3: èª­ã¿å–ã‚Šå°‚ç”¨ãƒ¬ãƒ—ãƒªã‚«
```

#### ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›
- ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
- ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½

### å°†æ¥ã®æŠ€è¡“èª²é¡Œ

#### ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åŒ–
- API Gatewayå°å…¥
- ã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡ (gRPC)
- åˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°

#### é«˜å¯ç”¨æ€§ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹é‹ç”¨
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- éšœå®³è‡ªå‹•å¾©æ—§

## è‡ªå®…ã‚µãƒ¼ãƒãƒ¼æœ€é©åŒ–

### WSL2ç’°å¢ƒå¯¾å¿œ

#### ãƒ¡ãƒ¢ãƒªç®¡ç†
- ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æœ€é©åŒ–
- ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ç›£è¦–
- ã‚¹ãƒ¯ãƒƒãƒ—ä½¿ç”¨é‡åˆ¶é™

#### CPUåŠ¹ç‡åŒ–
- éåŒæœŸå‡¦ç†ã®æ´»ç”¨
- CPUé›†ç´„çš„å‡¦ç†ã®åˆ†æ•£
- ã‚¢ã‚¤ãƒ‰ãƒ«æ™‚é–“ã®æœ€å¤§åŒ–

### ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–

#### é–¾å€¤è¨­å®š
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 250MBä¸Šé™
- CPUä½¿ç”¨ç‡: 10%å¹³å‡
- ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡: 1GBä¸Šé™

#### ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½
- ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡è¶…é
- ã‚¨ãƒ©ãƒ¼ç‡ä¸Šæ˜‡
- å¿œç­”æ™‚é–“åŠ£åŒ–

## é‹ç”¨ãƒ»ä¿å®ˆ

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: æ—¥æ¬¡è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«: Gitç®¡ç†
- ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«: é€±æ¬¡ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

### ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆ
- ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–
- ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç›£è¦–
- å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹æ­»æ´»ç›£è¦–

### ä¿å®ˆä½œæ¥­
- ä¾å­˜é–¢ä¿‚ã®å®šæœŸæ›´æ–°
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒé©ç”¨
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°

## Puppeteer-firstæˆ¦ç•¥ã®è©³ç´°ä»•æ§˜

### HTTP-onlyæˆ¦ç•¥ã®é™ç•Œã¨æˆ¦ç•¥è»¢æ›

#### æ¤œè¨¼æ¸ˆã¿æŠ€è¡“çš„åˆ¶ç´„
**HTTP-onlyæˆ¦ç•¥ã®é™ç•Œï¼ˆå®Ÿè¨¼æ¸ˆã¿ï¼‰**:
- **Cookieä¿å­˜**: âœ… æ­£å¸¸å‹•ä½œï¼ˆ27ä»¶ä¿å­˜ã€èªè¨¼Cookieå«ã‚€ï¼‰
- **Cookieé€ä¿¡**: âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆHTTPãƒ˜ãƒƒãƒ€ãƒ¼ã§é€ä¿¡ï¼‰
- **èªè¨¼çªç ´**: âŒ Cookieã®ã¿ã§ã¯ä¸ååˆ†

**æŠ€è¡“çš„åˆ¶ç´„**:
1. **JavaScriptãƒãƒ£ãƒ¬ãƒ³ã‚¸**: ãƒ–ãƒ©ã‚¦ã‚¶å›ºæœ‰ã®JSå®Ÿè¡ŒãŒå¿…è¦
2. **TLS ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒ†ã‚£ãƒ³ã‚°**: HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã¯æ¨¡å€£å›°é›£
3. **å‹•çš„ãƒˆãƒ¼ã‚¯ãƒ³**: ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¯ã®å¤‰å‹•ãƒˆãƒ¼ã‚¯ãƒ³ãŒå­˜åœ¨
4. **reese84 Cookie**: é«˜åº¦ãªæš—å·åŒ–ã•ã‚ŒãŸèªè¨¼Cookie

### Web Componentså¯¾å¿œã‚»ãƒ¬ã‚¯ã‚¿

#### athome.co.jpå›ºæœ‰ã®ã‚»ãƒ¬ã‚¯ã‚¿æˆ¦ç•¥
```typescript
const selectors = [
  // Web Componentsï¼ˆæœ€å„ªå…ˆï¼‰
  'athome-csite-pc-part-rent-business-other-bukken-card',
  'athome-search-result-list-item',
  'athome-buy-other-object-list-item',
  'athome-object-item',
  // å¾“æ¥ã®ã‚»ãƒ¬ã‚¯ã‚¿ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ï¼‰
  '.item-cassette',
  '.p-main-cassette-item',
  '.cassette-item',
  '[class*="bukken-card"]',
  '[class*="property"]'
];
```

#### ç‰©ä»¶ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºãƒ­ã‚¸ãƒƒã‚¯
```typescript
const properties = await page.evaluate(() => {
  // Web Componentsã‚’å«ã‚€æ–°ã—ã„ã‚»ãƒ¬ã‚¯ã‚¿ã§ã®æ¤œç´¢
  for (const selector of selectors) {
    const elements = document.querySelectorAll(selector);
    if (elements.length > 0) {
      // æœ€åˆã®3ä»¶ã‚’å–å¾—
      const items = Array.from(elements).slice(0, 3).map((el) => {
        const text = el.textContent || '';
        
        // ã‚¿ã‚¤ãƒˆãƒ«ã€ä¾¡æ ¼ã€æ‰€åœ¨åœ°ã‚’æŠ½å‡º
        let title = el.querySelector('a')?.textContent?.trim() || '';
        let price = text.match(/[0-9,]+ä¸‡å††/)?.[0] || '';
        let location = text.match(/åºƒå³¶[å¸‚çœŒ][\\s\\S]+?[åŒºç”º]/)?.[0] || '';
        
        return (title && price) ? { title, price, location } : null;
      }).filter(Boolean);
      
      if (items.length > 0) {
        return items;
      }
    }
  }
  return [];
});
```

### ä»Šå¾Œã®æ”¹å–„æŒ‡é‡

#### çŸ­æœŸæ–½ç­–ï¼ˆæˆåŠŸç‡25% â†’ 30%ï¼‰
**User-Agent ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**:
```typescript
const userAgents = [
  'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36',
  'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36'
];

const randomUA = userAgents[Math.floor(Math.random() * userAgents.length)];
await page.setUserAgent(randomUA);
```

**å¾…æ©Ÿæ™‚é–“ã®æœ€é©åŒ–**:
```typescript
// ãƒ©ãƒ³ãƒ€ãƒ åŒ–å¾…æ©Ÿï¼ˆ1.5-3ç§’ï¼‰
const randomDelay = Math.floor(Math.random() * 1500) + 1500;
await new Promise(r => setTimeout(r, randomDelay));
```

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
```typescript
interface ScrapingMetrics {
  method: 'puppeteer';
  executionTime: number;
  memoryUsage: number;
  success: boolean;
  url: string;
  timestamp: Date;
}
```

### æˆ¦ç•¥è»¢æ›ã®æ„ç¾©
**Puppeteer-firstæˆ¦ç•¥**ã®æ­£å¼æ¡ç”¨ã«ã‚ˆã‚Šã€ã‚¢ãƒƒãƒˆãƒ›ãƒ¼ãƒ ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿç”¨çš„ãªé‹ç”¨ã‚’å®Ÿç¾ã€‚

**ä¸»è¦æˆæœ**:
- **æˆåŠŸç‡**: 15% â†’ 25.08%ï¼ˆ66%å‘ä¸Šï¼‰
- **å®Ÿè¡Œæ™‚é–“**: å¹³å‡5.39ç§’ï¼ˆç›®æ¨™ã‚’å¤§å¹…ã«ä¸Šå›ã‚‹é«˜é€Ÿæ€§ï¼‰
- **å®‰å®šæ€§**: ç¶™ç¶šçš„ã«25%å‰å¾Œã‚’ç¶­æŒ
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: å¤šURLç›£è¦–ã¸ã®å¯¾å¿œæº–å‚™å®Œäº†

HTTP-onlyæˆ¦ç•¥ã®ç†æƒ³ã‚’è¿½æ±‚ã—ãŸãŒã€athome.co.jpã®èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®é«˜åº¦åŒ–ã«ã‚ˆã‚ŠæŠ€è¡“çš„é™ç•ŒãŒåˆ¤æ˜ã€‚ç¾å®Ÿçš„ã§å®‰å®šã—ãŸPuppeteer-firstæˆ¦ç•¥ã«è»¢æ›ã™ã‚‹ã“ã¨ã§ã€å®Ÿç”¨çš„ãªç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã‚’ç¢ºç«‹ã€‚

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±

- **ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0.0
- **æˆ¦ç•¥**: Puppeteer-firstï¼ˆ2025å¹´8æœˆ17æ—¥ç¢ºå®šï¼‰
- **NestJS**: 10.x
- **TypeScript**: 5.x
- **Node.js**: 20.x
- **TypeORM**: 0.3.x
- **better-sqlite3**: 9.x
- **Puppeteer**: 23.x
- **puppeteer-extra-plugin-stealth**: 2.x

