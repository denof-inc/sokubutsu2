{"file":"/Users/tttela/Documents/Work/denof/works/250529sokubutsu/dev2/src/domain/users/entities/user.entity.ts","mappings":";;;;;;;;;;;;AAAA,qCAOiB;AAiBV,IAAM,IAAI,GAAV,MAAM,IAAI;IAEf,EAAE,CAAS;IAGX,UAAU,CAAS;IAGnB,QAAQ,CAAU;IAGlB,SAAS,CAAS;IAGlB,QAAQ,CAAU;IAGlB,QAAQ,CAAU;IAGlB,YAAY,CAAU;IAGtB,QAAQ,CAAgB;IAGxB,YAAY,CAAO;IAGnB,SAAS,CAAO;IAGhB,SAAS,CAAO;IAEhB,OAAO;IACP,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,QAAQ;YAClB,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ,EAAE;YACtC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;IACrB,CAAC;IAED,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC;IACxC,CAAC;CACF,CAAA;AA5CY,oBAAI;AAEf;IADC,IAAA,gCAAsB,GAAE;;gCACd;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;wCACtB;AAGnB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;sCACtB;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;uCACN;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;sCACtB;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;sCACR;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;;0CACjB;AAGtB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sCACjB;AAGxB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,mBAAmB,EAAE,CAAC;8BACpD,IAAI;0CAAC;AAGnB;IADC,IAAA,0BAAgB,GAAE;8BACR,IAAI;uCAAC;AAGhB;IADC,IAAA,0BAAgB,GAAE;8BACR,IAAI;uCAAC;eAhCL,IAAI;IAFhB,IAAA,gBAAM,EAAC,OAAO,CAAC;IACf,IAAA,eAAK,EAAC,CAAC,YAAY,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;GAC3B,IAAI,CA4ChB","names":[],"sources":["/Users/tttela/Documents/Work/denof/works/250529sokubutsu/dev2/src/domain/users/entities/user.entity.ts"],"sourcesContent":["import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  CreateDateColumn,\n  UpdateDateColumn,\n  Index,\n} from 'typeorm';\n\nexport interface UserSettings {\n  notifications: {\n    enabled: boolean;\n    silent: boolean;\n    timeRange?: {\n      start: string; // HH:mm format\n      end: string; // HH:mm format\n    };\n  };\n  language: string;\n  timezone?: string;\n}\n\n@Entity('users')\n@Index(['telegramId'], { unique: true })\nexport class User {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({ type: 'bigint', unique: true })\n  telegramId: string;\n\n  @Column({ nullable: true, length: 255 })\n  username?: string;\n\n  @Column({ length: 255 })\n  firstName: string;\n\n  @Column({ nullable: true, length: 255 })\n  lastName?: string;\n\n  @Column({ default: true })\n  isActive: boolean;\n\n  @Column({ nullable: true, length: 10 })\n  languageCode?: string;\n\n  @Column({ type: 'json', nullable: true })\n  settings?: UserSettings;\n\n  @Column({ type: 'timestamp', default: () => 'CURRENT_TIMESTAMP' })\n  lastActiveAt: Date;\n\n  @CreateDateColumn()\n  createdAt: Date;\n\n  @UpdateDateColumn()\n  updatedAt: Date;\n\n  // ゲッター\n  get fullName(): string {\n    return this.lastName\n      ? `${this.firstName} ${this.lastName}`\n      : this.firstName;\n  }\n\n  get displayName(): string {\n    return this.username || this.fullName;\n  }\n}\n"],"version":3}