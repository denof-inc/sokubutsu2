{"file":"/Users/tttela/Documents/Work/denof/works/250529sokubutsu/dev2/src/core/auth/decorators/telegram-user.decorator.ts","mappings":";;;AAAA,2CAAwE;AAGxE;;GAEG;AACU,QAAA,WAAW,GAAG,IAAA,6BAAoB,EAC7C,CAAC,IAAa,EAAE,GAAqB,EAAQ,EAAE;IAC7C,MAAM,OAAO,GAAG,GAAG,CAAC,YAAY,EAAE,CAAC,UAAU,EAAE,CAAC;IAChD,OAAO,OAAO,CAAC,IAAY,CAAC;AAC9B,CAAC,CACF,CAAC;AAEF;;GAEG;AACU,QAAA,YAAY,GAAG,IAAA,6BAAoB,EAC9C,CAAC,IAAa,EAAE,GAAqB,EAAE,EAAE;IACvC,MAAM,OAAO,GAAG,GAAG,CAAC,YAAY,EAAE,CAAC,UAAU,EAAE,CAAC;IAChD,OAAO,OAAO,CAAC,YAAY,CAAC;AAC9B,CAAC,CACF,CAAC;AAEF;;GAEG;AACU,QAAA,SAAS,GAAG,IAAA,6BAAoB,EAC3C,CAAC,IAAa,EAAE,GAAqB,EAAW,EAAE;IAChD,MAAM,OAAO,GAAG,GAAG,CAAC,YAAY,EAAE,CAAC,UAAU,EAAE,CAAC;IAChD,OAAQ,OAAO,CAAC,SAAqB,IAAI,KAAK,CAAC;AACjD,CAAC,CACF,CAAC","names":[],"sources":["/Users/tttela/Documents/Work/denof/works/250529sokubutsu/dev2/src/core/auth/decorators/telegram-user.decorator.ts"],"sourcesContent":["import { createParamDecorator, ExecutionContext } from '@nestjs/common';\nimport { User } from '../../../domain/users/entities/user.entity';\n\n/**\n * リクエストからUserエンティティを取得\n */\nexport const CurrentUser = createParamDecorator(\n  (data: unknown, ctx: ExecutionContext): User => {\n    const request = ctx.switchToHttp().getRequest();\n    return request.user as User;\n  },\n);\n\n/**\n * リクエストからTelegramユーザー情報を取得\n */\nexport const TelegramUser = createParamDecorator(\n  (data: unknown, ctx: ExecutionContext) => {\n    const request = ctx.switchToHttp().getRequest();\n    return request.telegramUser;\n  },\n);\n\n/**\n * 新規ユーザーかどうかを取得\n */\nexport const IsNewUser = createParamDecorator(\n  (data: unknown, ctx: ExecutionContext): boolean => {\n    const request = ctx.switchToHttp().getRequest();\n    return (request.isNewUser as boolean) || false;\n  },\n);\n"],"version":3}