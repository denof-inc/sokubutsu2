2f650d8906e52900d93d6b5de7d8166b
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.IsNewUser = exports.TelegramUser = exports.CurrentUser = void 0;
const common_1 = require("@nestjs/common");
/**
 * リクエストからUserエンティティを取得
 */
exports.CurrentUser = (0, common_1.createParamDecorator)((data, ctx) => {
    const request = ctx.switchToHttp().getRequest();
    return request.user;
});
/**
 * リクエストからTelegramユーザー情報を取得
 */
exports.TelegramUser = (0, common_1.createParamDecorator)((data, ctx) => {
    const request = ctx.switchToHttp().getRequest();
    return request.telegramUser;
});
/**
 * 新規ユーザーかどうかを取得
 */
exports.IsNewUser = (0, common_1.createParamDecorator)((data, ctx) => {
    const request = ctx.switchToHttp().getRequest();
    return request.isNewUser || false;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3R0dGVsYS9Eb2N1bWVudHMvV29yay9kZW5vZi93b3Jrcy8yNTA1Mjlzb2t1YnV0c3UvZGV2Mi9zcmMvY29yZS9hdXRoL2RlY29yYXRvcnMvdGVsZWdyYW0tdXNlci5kZWNvcmF0b3IudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMkNBQXdFO0FBR3hFOztHQUVHO0FBQ1UsUUFBQSxXQUFXLEdBQUcsSUFBQSw2QkFBb0IsRUFDN0MsQ0FBQyxJQUFhLEVBQUUsR0FBcUIsRUFBUSxFQUFFO0lBQzdDLE1BQU0sT0FBTyxHQUFHLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNoRCxPQUFPLE9BQU8sQ0FBQyxJQUFZLENBQUM7QUFDOUIsQ0FBQyxDQUNGLENBQUM7QUFFRjs7R0FFRztBQUNVLFFBQUEsWUFBWSxHQUFHLElBQUEsNkJBQW9CLEVBQzlDLENBQUMsSUFBYSxFQUFFLEdBQXFCLEVBQUUsRUFBRTtJQUN2QyxNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsWUFBWSxFQUFFLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDaEQsT0FBTyxPQUFPLENBQUMsWUFBWSxDQUFDO0FBQzlCLENBQUMsQ0FDRixDQUFDO0FBRUY7O0dBRUc7QUFDVSxRQUFBLFNBQVMsR0FBRyxJQUFBLDZCQUFvQixFQUMzQyxDQUFDLElBQWEsRUFBRSxHQUFxQixFQUFXLEVBQUU7SUFDaEQsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLFlBQVksRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ2hELE9BQVEsT0FBTyxDQUFDLFNBQXFCLElBQUksS0FBSyxDQUFDO0FBQ2pELENBQUMsQ0FDRixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy90dHRlbGEvRG9jdW1lbnRzL1dvcmsvZGVub2Yvd29ya3MvMjUwNTI5c29rdWJ1dHN1L2RldjIvc3JjL2NvcmUvYXV0aC9kZWNvcmF0b3JzL3RlbGVncmFtLXVzZXIuZGVjb3JhdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVBhcmFtRGVjb3JhdG9yLCBFeGVjdXRpb25Db250ZXh0IH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uLy4uLy4uL2RvbWFpbi91c2Vycy9lbnRpdGllcy91c2VyLmVudGl0eSc7XG5cbi8qKlxuICog44Oq44Kv44Ko44K544OI44GL44KJVXNlcuOCqOODs+ODhuOCo+ODhuOCo+OCkuWPluW+l1xuICovXG5leHBvcnQgY29uc3QgQ3VycmVudFVzZXIgPSBjcmVhdGVQYXJhbURlY29yYXRvcihcbiAgKGRhdGE6IHVua25vd24sIGN0eDogRXhlY3V0aW9uQ29udGV4dCk6IFVzZXIgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBjdHguc3dpdGNoVG9IdHRwKCkuZ2V0UmVxdWVzdCgpO1xuICAgIHJldHVybiByZXF1ZXN0LnVzZXIgYXMgVXNlcjtcbiAgfSxcbik7XG5cbi8qKlxuICog44Oq44Kv44Ko44K544OI44GL44KJVGVsZWdyYW3jg6bjg7zjgrbjg7zmg4XloLHjgpLlj5blvpdcbiAqL1xuZXhwb3J0IGNvbnN0IFRlbGVncmFtVXNlciA9IGNyZWF0ZVBhcmFtRGVjb3JhdG9yKFxuICAoZGF0YTogdW5rbm93biwgY3R4OiBFeGVjdXRpb25Db250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGN0eC5zd2l0Y2hUb0h0dHAoKS5nZXRSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIHJlcXVlc3QudGVsZWdyYW1Vc2VyO1xuICB9LFxuKTtcblxuLyoqXG4gKiDmlrDopo/jg6bjg7zjgrbjg7zjgYvjganjgYbjgYvjgpLlj5blvpdcbiAqL1xuZXhwb3J0IGNvbnN0IElzTmV3VXNlciA9IGNyZWF0ZVBhcmFtRGVjb3JhdG9yKFxuICAoZGF0YTogdW5rbm93biwgY3R4OiBFeGVjdXRpb25Db250ZXh0KTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGN0eC5zd2l0Y2hUb0h0dHAoKS5nZXRSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIChyZXF1ZXN0LmlzTmV3VXNlciBhcyBib29sZWFuKSB8fCBmYWxzZTtcbiAgfSxcbik7XG4iXSwidmVyc2lvbiI6M30=