{"file":"/Users/tttela/Documents/Work/denof/works/250529sokubutsu/dev2/src/features/task-scheduler/task-scheduler.service.spec.ts","mappings":";;AAAA,6CAAsD;AACtD,qEAAgE;AAChE,8DAA0D;AAC1D,mEAA+D;AAC/D,+EAA2E;AAE3E,QAAQ,CAAC,sBAAsB,EAAE,GAAG,EAAE;IACpC,IAAI,OAA6B,CAAC;IAElC,MAAM,cAAc,GAAG;QACrB,aAAa,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,iBAAiB,CAAC,EAAE,CAAC;QAC9C,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE;KACtB,CAAC;IAEF,MAAM,mBAAmB,GAAG;QAC1B,gBAAgB,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,iBAAiB,CAAC,aAAa,CAAC;KAC7D,CAAC;IAEF,MAAM,uBAAuB,GAAG;QAC9B,gBAAgB,EAAE,IAAI,CAAC,EAAE,EAAE;QAC3B,gBAAgB,EAAE,IAAI,CAAC,EAAE,EAAE;KAC5B,CAAC;IAEF,UAAU,CAAC,KAAK,IAAI,EAAE;QACpB,MAAM,MAAM,GAAkB,MAAM,cAAI,CAAC,mBAAmB,CAAC;YAC3D,SAAS,EAAE;gBACT,6CAAoB;gBACpB;oBACE,OAAO,EAAE,wBAAU;oBACnB,QAAQ,EAAE,cAAc;iBACzB;gBACD;oBACE,OAAO,EAAE,kCAAe;oBACxB,QAAQ,EAAE,mBAAmB;iBAC9B;gBACD;oBACE,OAAO,EAAE,0CAAmB;oBAC5B,QAAQ,EAAE,uBAAuB;iBAClC;aACF;SACF,CAAC,CAAC,OAAO,EAAE,CAAC;QAEb,OAAO,GAAG,MAAM,CAAC,GAAG,CAAuB,6CAAoB,CAAC,CAAC;QAEjE,UAAU;QACV,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,mBAAmB,EAAE,GAAG,EAAE;QAC3B,MAAM,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,CAAC;IAChC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/Users/tttela/Documents/Work/denof/works/250529sokubutsu/dev2/src/features/task-scheduler/task-scheduler.service.spec.ts"],"sourcesContent":["import { Test, TestingModule } from '@nestjs/testing';\nimport { TaskSchedulerService } from './task-scheduler.service';\nimport { UrlService } from '../../domain/url/url.service';\nimport { ScrapingService } from '../scraping/scraping.service';\nimport { NotificationService } from '../notification/notification.service';\n\ndescribe('TaskSchedulerService', () => {\n  let service: TaskSchedulerService;\n\n  const mockUrlService = {\n    findAllActive: jest.fn().mockResolvedValue([]),\n    updateHash: jest.fn(),\n  };\n\n  const mockScrapingService = {\n    scrapeAndGetHash: jest.fn().mockResolvedValue('mocked-hash'),\n  };\n\n  const mockNotificationService = {\n    sendNotification: jest.fn(),\n    notifyUrlChanged: jest.fn(),\n  };\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        TaskSchedulerService,\n        {\n          provide: UrlService,\n          useValue: mockUrlService,\n        },\n        {\n          provide: ScrapingService,\n          useValue: mockScrapingService,\n        },\n        {\n          provide: NotificationService,\n          useValue: mockNotificationService,\n        },\n      ],\n    }).compile();\n\n    service = module.get<TaskSchedulerService>(TaskSchedulerService);\n    \n    // クリーンアップ\n    jest.clearAllMocks();\n  });\n\n  it('should be defined', () => {\n    expect(service).toBeDefined();\n  });\n});\n"],"version":3}